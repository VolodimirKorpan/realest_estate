(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{97:function(e,t,s){},98:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s(1),a=s.n(c),i=s(22),o=s.n(i),r=s(5),l=s(4),j=s(11),d=s(16),h=s(14),u=s(6),b=s(17),m=s.n(b),_=s(40),p=s.n(_),O=function(e){var t=Object(c.useState)({sale_type:"For Sale",price:"$0+",bedrooms:"0+",home_type:"House",bathrooms:"0+",sqft:"1000+",days_listed:"1 or less",has_photos:"1+",open_house:"false",keywords:""}),s=Object(j.a)(t,2),a=s[0],i=s[1],o=a.sale_type,r=a.price,l=a.bedrooms,d=a.home_type,b=a.bathrooms,_=a.sqft,O=a.days_listed,x=a.has_photos,f=a.open_house,g=a.keywords,v=Object(c.useState)(!1),N=Object(j.a)(v,2),y=N[0],w=N[1],S=function(e){return i(Object(u.a)(Object(u.a)({},a),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(n.jsx)("form",{className:"listingform",onSubmit:function(t){return function(t){t.preventDefault(),m.a.defaults.headers={"Content-Type":"application/json"},w(!0),m.a.post("http://127.0.0.1:8000/api/listings/search",{sale_type:o,price:r,bedrooms:l,home_type:d,bathrooms:b,sqft:_,days_listed:O,has_photos:x,open_house:f,keywords:g}).then((function(t){w(!1),e.setListings(t.data),window.scrollTo(0,0)})).catch((function(e){w(!1),window.scrollTo(0,0)}))}(t)},children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-1-of-6",children:[Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"sale_type",children:"Sale or Rent"}),Object(n.jsxs)("select",{className:"listingform__select",name:"sale_type",onChange:function(e){return S(e)},value:o,children:[Object(n.jsx)("option",{children:"For Sale"}),Object(n.jsx)("option",{children:"For Rent"})]})]}),Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"sqft",children:"Sqft"}),Object(n.jsxs)("select",{className:"listingform__select",name:"sqft",onChange:function(e){return S(e)},value:_,children:[Object(n.jsx)("option",{children:"1000+"}),Object(n.jsx)("option",{children:"1200+"}),Object(n.jsx)("option",{children:"1500+"}),Object(n.jsx)("option",{children:"2000+"}),Object(n.jsx)("option",{children:"Any"})]})]})]}),Object(n.jsxs)("div",{className:"col-1-of-6",children:[Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"price",children:"Minimun Price"}),Object(n.jsxs)("select",{className:"listingform__select",name:"price",onChange:function(e){return S(e)},value:r,children:[Object(n.jsx)("option",{children:"$0+"}),Object(n.jsx)("option",{children:"$200,000+"}),Object(n.jsx)("option",{children:"$400,000+"}),Object(n.jsx)("option",{children:"$600,000+"}),Object(n.jsx)("option",{children:"$800,000+"}),Object(n.jsx)("option",{children:"$1,000,000+"}),Object(n.jsx)("option",{children:"$1,200,000+"}),Object(n.jsx)("option",{children:"$1,500,000+"}),Object(n.jsx)("option",{children:"Any"})]})]}),Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"days_listed",children:"Days Listed"}),Object(n.jsxs)("select",{className:"listingform__select",name:"days_listed",onChange:function(e){return S(e)},value:O,children:[Object(n.jsx)("option",{children:"1 of less"}),Object(n.jsx)("option",{children:"2 of less"}),Object(n.jsx)("option",{children:"5 of less"}),Object(n.jsx)("option",{children:"10 of less"}),Object(n.jsx)("option",{children:"20 of less"}),Object(n.jsx)("option",{children:"Any"})]})]})]}),Object(n.jsxs)("div",{className:"col-1-of-6",children:[Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"bedrooms",children:"Bedrooms"}),Object(n.jsxs)("select",{className:"listingform__select",name:"bedrooms",onChange:function(e){return S(e)},value:l,children:[Object(n.jsx)("option",{children:"0+"}),Object(n.jsx)("option",{children:"1+"}),Object(n.jsx)("option",{children:"2+"}),Object(n.jsx)("option",{children:"3+"}),Object(n.jsx)("option",{children:"4+"}),Object(n.jsx)("option",{children:"5+"})]})]}),Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"has_photos",children:"Has Photos"}),Object(n.jsxs)("select",{className:"listingform__select",name:"has_photos",onChange:function(e){return S(e)},value:x,children:[Object(n.jsx)("option",{children:"1+"}),Object(n.jsx)("option",{children:"3+"}),Object(n.jsx)("option",{children:"5+"}),Object(n.jsx)("option",{children:"10+"}),Object(n.jsx)("option",{children:"15+"})]})]})]}),Object(n.jsxs)("div",{className:"col-1-of-6",children:[Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"home_type",children:"Home Type"}),Object(n.jsxs)("select",{className:"listingform__select",name:"home_type",onChange:function(e){return S(e)},value:d,children:[Object(n.jsx)("option",{children:"House"}),Object(n.jsx)("option",{children:"Condo"}),Object(n.jsx)("option",{children:"Townhouse"})]})]}),Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"keywords",children:"Keywords"}),Object(n.jsx)("input",{className:"listingform__input",name:"keywords",type:"text",onChange:function(e){return S(e)},value:g})]})]}),Object(n.jsxs)("div",{className:"col-1-of-6",children:[Object(n.jsxs)("div",{className:"listingform__section",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"bathrooms",children:"Baths"}),Object(n.jsxs)("select",{className:"listingform__select",name:"bathrooms",onChange:function(e){return S(e)},value:b,children:[Object(n.jsx)("option",{children:"0+"}),Object(n.jsx)("option",{children:"1+"}),Object(n.jsx)("option",{children:"2+"}),Object(n.jsx)("option",{children:"3+"}),Object(n.jsx)("option",{children:"4+"})]})]}),Object(n.jsxs)("div",{className:"listingform__altsection",children:[Object(n.jsx)("label",{className:"listingform__label",htmlFor:"open_house",children:"Open Houses"}),Object(n.jsx)("input",{className:"listingform__checkbox",name:"open_house",type:"checkbox",onChange:function(e){return S(e)},value:f})]})]}),Object(n.jsx)("div",{className:"col-1-of-6",children:y?Object(n.jsx)("div",{className:"listingform__loader",children:Object(n.jsx)(p.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(n.jsx)("button",{className:"listingform__button listingform__button--primary",children:"Save"})})]})})},x=function(e){var t;return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h3",{className:"card__title",children:e.title}),Object(n.jsx)("div",{className:"card__header",children:Object(n.jsx)("img",{className:"card__header__photo",src:e.photo_main,alt:"House"})}),Object(n.jsxs)("p",{className:"card__location",children:[e.address,", ",e.city,", ",e.state]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-2-of-3",children:[Object(n.jsxs)("p",{className:"card__info",children:["Price: $",(t=e.price,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]}),Object(n.jsxs)("p",{className:"card__info",children:["BedRooms: ",e.bedrooms]}),Object(n.jsxs)("p",{className:"card__info",children:["Bathrooms: $",e.bathrooms]})]}),Object(n.jsxs)("div",{className:"col-1-of-3",children:[Object(n.jsx)("p",{className:"card__saletype",children:e.sale_type}),Object(n.jsx)("p",{className:"card__hometype",children:e.home_type}),Object(n.jsxs)("p",{className:"card__sqft",children:["Sqft: ",e.sqft]})]})]}),Object(n.jsx)(r.b,{className:"card__link",to:"/listings/".concat(e.slug),children:"View Listing"})]})},f=function e(t){var s=t.listings;return Object(n.jsx)("div",{children:function(){var t=[],c=[];s.map((function(e){return t.push(Object(n.jsx)(x,{title:e.title,address:e.address,city:e.city,state:e.state,price:e.price,sale_type:e.sale_type,home_type:e.home_type,bedrooms:e.bedrooms,bathrooms:e.bathrooms,sqft:e.sqft,photo_main:e.photo_main,slug:e.slug}))}));for(var a=0;a<e.length;a+=3)c.push(Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-1-of-3",children:t[a]}),Object(n.jsx)("div",{className:"col-1-of-3",children:t[a+1]?t[a+1]:null}),Object(n.jsx)("div",{className:"col-1-of-3",children:t[a+2]?t[a+2]:null})]}));return c}()})},g=function(e){return Object(n.jsxs)("div",{className:"pagination",children:[Object(n.jsx)("div",{onClick:function(){return e.previous()},className:"pagination__number",children:"Previous"}),function(){for(var t=[],s=e.itemsPerPage,c=1,a=function(s){var a=c,i="pagination__number",o=null;e.active===a?(i="pagination__number pagination__number--active",o=Object(n.jsx)("div",{className:i,children:c},s)):o=Object(n.jsx)("div",{onClick:function(){return e.visitPage(a)},className:i,children:c},s),t.push(o),c++},i=0;i<e.count;i+=s)a(i);return t}(),Object(n.jsx)("div",{onClick:function(){return e.next()},className:"pagination__number",children:"Next"})]})},v=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),s=t[0],a=t[1],i=Object(c.useState)(1),o=Object(j.a)(i,2),r=o[0],l=o[1],h=Object(c.useState)(3),u=Object(j.a)(h,2),b=u[0],m=(u[1],Object(c.useState)(1)),_=Object(j.a)(m,2),p=_[0],x=_[1],v=r*b,N=v-b,y=s.slice(N,v);return Object(n.jsxs)("main",{className:"home",children:[Object(n.jsxs)(d.a,{children:[Object(n.jsx)("title",{children:"Realest Estate - Home"}),Object(n.jsx)("meta",{name:"description",content:"Realest Estate Home Page"})]}),Object(n.jsx)("section",{className:"home__form",children:Object(n.jsx)(O,{setListings:a})}),Object(n.jsx)("section",{className:"home__listings",children:Object(n.jsx)(f,{listings:y})}),Object(n.jsx)("section",{className:"home__pagination",children:Object(n.jsx)("div",{className:"row",children:0!==s.length?Object(n.jsx)(g,{itemsPerPage:b,count:s.length,visitPage:function(e){l(e),x(e)},previous:function(){1!==r&&(l(r-1),x(r-1))},next:function(){r!==Math.ceil(s.length/3)&&(l(r+1),x(r+1))},active:p,setActive:x}):null})})]})},N=function(){return Object(n.jsx)("div",{children:"contact"})},y=function(){return Object(n.jsx)("div",{children:"about"})},w=function(){return Object(n.jsx)("div",{children:"listings"})},S=function(){return Object(n.jsx)("div",{children:"listing detail"})},k=s(13),C=s(21),A=s.n(C),F=s(29),L=s(100),P="SET_ALERT",T="REMOVE_ALERT",E="SIGNUP_SUCCESS",q="SIGNUP_FAIL",I="LOGIN_SUCCESS",R="LOGIN_FAIL",$="LOGOUT",H=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var c=Object(L.a)();n({type:P,payload:{msg:e,alertType:t,id:c}}),setTimeout((function(){return n({type:T,payload:c})}),s)}},U=function(e,t){return function(){var s=Object(F.a)(A.a.mark((function s(n){var c,a,i;return A.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c={headers:{"Content-Type":"application/json"}},a=JSON.stringify({email:e,password:t}),s.prev=2,s.next=5,m.a.post("http://localhost:8000/api/token/",a,c);case 5:i=s.sent,n({type:I,payload:i.data}),n(H("Authenticated successfully","success")),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(2),n({type:R}),n(H("Error Authenticating","error"));case 14:case"end":return s.stop()}}),s,null,[[2,10]])})));return function(e){return s.apply(this,arguments)}}()},B=Object(k.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:U})((function(e){var t=e.login,s=e.isAuthenticated,a=Object(c.useState)({email:"",password:""}),i=Object(j.a)(a,2),o=i[0],b=i[1],m=o.email,_=o.password,p=function(e){return b(Object(u.a)(Object(u.a)({},o),{},Object(h.a)({},e.target.name,e.target.value)))};return s?Object(n.jsx)(l.a,{to:"/"}):Object(n.jsxs)("div",{className:"auth",children:[Object(n.jsxs)(d.a,{children:[Object(n.jsx)("title",{children:"Realest Estate - Login"}),Object(n.jsx)("meta",{name:"description",content:"login page"})]}),Object(n.jsx)("h1",{className:"auth__title",children:"Sign In"}),Object(n.jsx)("p",{className:"auth__lead",children:"Sign into your Account"}),Object(n.jsxs)("form",{className:"auth__form",onSubmit:function(e){return function(e){e.preventDefault(),t(m,_)}(e)},children:[Object(n.jsx)("div",{className:"auth__form__group",children:Object(n.jsx)("input",{className:"auth__form__input",type:"email",placeholder:"Email",name:"email",value:m,onChange:function(e){return p(e)},required:!0})}),Object(n.jsx)("div",{className:"auth__form__group",children:Object(n.jsx)("input",{className:"auth__form__input",type:"password",placeholder:"Password",name:"password",value:_,onChange:function(e){return p(e)},minLength:"6"})}),Object(n.jsx)("button",{className:"auth__form__button",children:"Login"})]}),Object(n.jsxs)("p",{className:"auth__authtext",children:["Don't have an account? ",Object(n.jsx)(r.b,{className:"auth__authtext__link",to:"/signup",children:"Sign Up"})]})]})})),D=Object(k.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:H,signup:function(e){var t=e.name,s=e.email,n=e.password,c=e.password2;return function(){var e=Object(F.a)(A.a.mark((function e(a){var i,o,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json"}},o=JSON.stringify({name:t,email:s,password:n,password2:c}),e.prev=2,e.next=5,m.a.post("http://localhost:8000/api/accounts/signup",o,i);case 5:r=e.sent,a({type:E,payload:r.data}),a(U(s,n)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),a({type:q}),a(H("Error Authenticating","error"));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,s=e.signup,a=e.isAuthenticated,i=Object(c.useState)({name:"",email:"",password:"",password2:""}),o=Object(j.a)(i,2),b=o[0],m=o[1],_=b.name,p=b.email,O=b.password,x=b.password2,f=function(e){return m(Object(u.a)(Object(u.a)({},b),{},Object(h.a)({},e.target.name,e.target.value)))};return a?Object(n.jsx)(l.a,{to:"/"}):Object(n.jsxs)("div",{className:"auth",children:[Object(n.jsxs)(d.a,{children:[Object(n.jsx)("title",{children:"Realest Estate - Sign Up"}),Object(n.jsx)("meta",{name:"description",content:"sign up page"})]}),Object(n.jsx)("h1",{className:"auth__title",children:"Sign Up"}),Object(n.jsx)("p",{className:"auth__lead",children:"Create your Account"}),Object(n.jsxs)("form",{className:"auth__form",onSubmit:function(e){return function(e){e.preventDefault(),O!==x?t("Password do not match","error"):s({name:_,email:p,password:O,password2:x})}(e)},children:[Object(n.jsx)("div",{className:"auth__form__group",children:Object(n.jsx)("input",{className:"auth__form__input",type:"text",placeholder:"Name",name:"name",value:_,onChange:function(e){return f(e)},required:!0})}),Object(n.jsx)("div",{className:"auth__form__group",children:Object(n.jsx)("input",{className:"auth__form__input",type:"email",placeholder:"Email",name:"email",value:p,onChange:function(e){return f(e)},required:!0})}),Object(n.jsx)("div",{className:"auth__form__group",children:Object(n.jsx)("input",{className:"auth__form__input",type:"password",placeholder:"Password",name:"password",value:O,onChange:function(e){return f(e)},minLength:"6"})}),Object(n.jsx)("div",{className:"auth__form__group",children:Object(n.jsx)("input",{className:"auth__form__input",type:"password",placeholder:"Confirm Password",name:"password2",value:x,onChange:function(e){return f(e)},minLength:"6"})}),Object(n.jsx)("button",{className:"auth__form__button",children:"Register"})]}),Object(n.jsxs)("p",{className:"auth__authtext",children:["Already have an account? ",Object(n.jsx)(r.b,{className:"auth__authtext__link",to:"/login",children:"Sign In"})]})]})})),G=function(){return Object(n.jsxs)("div",{className:"notfound",children:[Object(n.jsx)("h1",{className:"notfound__heading",children:"404 Not Found"}),Object(n.jsx)("p",{className:"notfound__paragraph",children:"The link you requested does not exist on our website."})]})},M=Object(k.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return Object(n.jsx)("div",{className:"alert alert--".concat(e.alertType),children:e.msg},e.id)}))})),J=Object(k.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e(H("logout successful.","success")),e({type:$})}}})((function(e){var t=e.auth,s=t.isAuthenticated,a=t.loading,i=e.logout,o=Object(n.jsx)("a",{className:"navbar__top__auth__link",onClick:i,href:"#!",children:"Logout"}),l=Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(r.b,{className:"navbar__top__auth__link",to:"/login",children:"Login"}),Object(n.jsx)(r.b,{className:"navbar__top__auth__link",to:"/signup",children:"Sign Up"})]});return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("nav",{className:"navbar",children:[Object(n.jsxs)("div",{className:"navbar__top",children:[Object(n.jsx)("div",{className:"navbar__top__logo",children:Object(n.jsx)(r.b,{className:"navbar__top__logo__link",to:"/",children:"Realest Estate"})}),Object(n.jsx)("div",{className:"navbar__top__auth",children:!a&&Object(n.jsx)(c.Fragment,{children:s?o:l})})]}),Object(n.jsxs)("div",{className:"navbar__bottom",children:[Object(n.jsx)("li",{className:"navbar__bottom__item",children:Object(n.jsx)(r.c,{className:"navbar__bottom__item__link",exact:!0,to:"/",children:"Home"})}),Object(n.jsx)("li",{className:"navbar__bottom__item",children:Object(n.jsx)(r.c,{className:"navbar__bottom__item__link",exact:!0,to:"/listings",children:"Listings"})}),Object(n.jsx)("li",{className:"navbar__bottom__item",children:Object(n.jsx)(r.c,{className:"navbar__bottom__item__link",exact:!0,to:"/about",children:"About"})}),Object(n.jsx)("li",{className:"navbar__bottom__item",children:Object(n.jsx)(r.c,{className:"navbar__bottom__item__link",exact:!0,to:"/contact",children:"Contact"})})]})]}),Object(n.jsx)(M,{})]})})),V=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(J,{}),e.children]})},K=s(15),W=s(43),z=s(44),Q=s(45),X=[],Y={token:localStorage.getItem("token"),isAuthenticated:null,loading:!1},Z=Object(K.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,s=t.type,n=t.payload;switch(s){case P:return[].concat(Object(Q.a)(e),[n]);case T:return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,s=t.type,n=t.payload;switch(s){case I:return localStorage.setItem("token",n.access),Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!0,loading:!1,token:n.access});case E:return Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!1,loading:!0});case q:case R:case $:return localStorage.removeItem("token"),Object(u.a)(Object(u.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}}}),ee=[z.a],te=Object(K.createStore)(Z,{},Object(W.composeWithDevTools)(K.applyMiddleware.apply(void 0,ee))),se=(s(97),function(){return Object(n.jsx)(k.a,{store:te,children:Object(n.jsx)(r.a,{children:Object(n.jsx)(V,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:v}),Object(n.jsx)(l.b,{exact:!0,path:"/about",component:y}),Object(n.jsx)(l.b,{exact:!0,path:"/contact",component:N}),Object(n.jsx)(l.b,{exact:!0,path:"/listings",component:w}),Object(n.jsx)(l.b,{exact:!0,path:"/listings/:id",component:S}),Object(n.jsx)(l.b,{exact:!0,path:"/login",component:B}),Object(n.jsx)(l.b,{exact:!0,path:"/signup",component:D}),Object(n.jsx)(l.b,{exact:!0,component:G})]})})})})}),ne=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,101)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))};o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(se,{})}),document.getElementById("root")),ne()}},[[98,1,2]]]);
//# sourceMappingURL=main.060d4e71.chunk.js.map